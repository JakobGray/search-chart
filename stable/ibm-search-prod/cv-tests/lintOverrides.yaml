# Licensed Materials - Property of IBM
# @ Copyright IBM Corporation 2016, 2019. All Rights Reserved.
# US Government Users Restricted Rights - Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.


overrides: 
- rule: ReviewHelmHooks
  severity: "REVIEW"
  reason: "Upgrade from mcm may be affected" 
  reduceTo: "INFO"
- rule: PodDisruptionBudgetExists
  severity: "REVIEW"
  reason: "We are a single instance stateful application so we accept occasional downtime"
  reduceTo: "INFO"
- rule: NoSensitiveInfoInValues
  severity: "REVIEW"
  reason: "No Secret Values are present in values.yaml" 
  reduceTo: "INFO"
- rule: NoDefaultServiceAccountName
  severity: "REVIEW"
  reason: "We don't create a custom service account to assign or use"    
  reduceTo: "INFO" 
- rule: CheckImageNameFormat
  severity: "WARNING"
  reason: "Need to change as per naming convention- Skipping temporarily"   
  reduceTo: "INFO"
- reason: "Using the new values breaks upgrade becuase it is trying to change immutable sections."    # REQUIRED, a justification for the override.
  rule: "RequiredMetadataLabelsDefined"      # the name of a rule to ignore, must be exact match.
  severity: "ERROR"  # the severity name to ignore, "INFO", "ERROR", etc.
  reduceTo: "INFO"  # the severity to map to a matching message. If undefined, corresponds to ignore.
- reason: "Removing for 4Q release"    # REQUIRED, a justification for the override.
  rule: "MeteringAnnotationsDefined"      # the name of a rule to ignore, must be exact match.
  severity: "ERROR"  # the severity name to ignore, "INFO", "ERROR", etc.
  reduceTo: "INFO"  # the severity to map to a matching message. If undefined, corresponds to ignore.
- reason: "Search is an Internal Service, we dont need a seperate Dashboard "
  rule: "MonitoringDashboardExists"
  severity: "WARNING"
  reduceTo: "INFO"
- reason: "Search is not a crtiical application - it can take some downtime"
  rule: "PodDisruptionBudgetInReadme"
  severity: "WARNING"
  reduceTo: "INFO"
- reason: "Sample not tested yet"
  rule: "CustomPodSecurityInReadme"
  severity: "ERROR"
  reduceTo: "INFO"  
- reason: "Images are ised in CV tests - need a better way to override"
  rule: "UsedImagesInManifest"
  severity: "ERROR"
  reduceTo: "INFO"  
- reason: "Require Doc Verification and review"
  rule: "NoICPReferences"
  severity: "REVIEW"
  reduceTo: "INFO"  
- reason: "Require Verification "
  rule: "ChartUsesSCH"
  severity: "INFO"
  reduceTo: "INFO"    
- reason: "Test pod config - not shipped to customer - stunnel needs write permission"    # REQUIRED, a justification for the override.
  rule: "PodSecurityContextDefined"      # the name of a rule to ignore, must be exact match.
  filenames: [templates/tests/test-redis-connection-pod.yaml] # a list of filenames to match on, must be a superset of the filenames listed in the message to match. If a message includes a line number with the filename, omit the line number in the override.
  severity: "ERROR"  # the severity name to ignore, "INFO", "ERROR", etc.
  reduceTo: "INFO"  # the severity to map to a matching message. If undefined, corresponds to ignore.
- reason: "Test pod config - not shipped to customer - stunnel needs write permission"    # REQUIRED, a justification for the override.
  rule: "PodSecurityContextDefined"      # the name of a rule to ignore, must be exact match.
  message: '\[ERROR\] .*redis-test.yaml.*' # a list of filenames to match on, must be a superset of the filenames listed in the message to match. If a message includes a line number with the filename, omit the line number in the override.
  severity: "ERROR"  # the severity name to ignore, "INFO", "ERROR", etc.
  reduceTo: "INFO"  # the severity to map to a matching message. If undefined, corresponds to ignore.

- reason: "Test pod config - not shipped to customer - stunnel needs write permission"    # REQUIRED, a justification for the override.
  rule: "NoRunAsRootUser"      # the name of a rule to ignore, must be exact match.
  filenames: [templates/tests/test-redis-connection-pod.yaml] # a list of filenames to match on, must be a superset of the filenames listed in the message to match. If a message includes a line number with the filename, omit the line number in the override.
  severity: "ERROR"  # the severity name to ignore, "INFO", "ERROR", etc.
  reduceTo: "INFO"  # the severity to map to a matching message. If undefined, corresponds to ignore.  
- reason: "Test pod config - not shipped to customer - stunnel needs write permission"    # REQUIRED, a justification for the override.
  rule: "NoRunAsRootUser"      # the name of a rule to ignore, must be exact match.
  message: '\[ERROR\] .*redis-test.yaml.*' # a list of filenames to match on, must be a superset of the filenames listed in the message to match. If a message includes a line number with the filename, omit the line number in the override.
  severity: "ERROR"  # the severity name to ignore, "INFO", "ERROR", etc.
  reduceTo: "INFO"  # the severity to map to a matching message. If undefined, corresponds to ignore. 


- reason: "kubectl image version tsgged with v - fix will be from kubectl squad"    # REQUIRED, a justification for the override.
  rule: "ContainerImageNameIsValid"      # the name of a rule to ignore, must be exact match.
  severity: "WARNING"  # the severity name to ignore, "INFO", "ERROR", etc.
  reduceTo: "INFO"  # the severity to map to a matching message. If undefined, corresponds to ignore.  

    
